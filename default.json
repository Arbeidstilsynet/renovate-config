{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:best-practices",
    ":automergeMinor",
    ":automergeLinters",
    ":automergeTesters",
    ":automergeTypes",
    ":automergeDigest",
    "mergeConfidence:all-badges",
    "customManagers:dockerfileVersions"
  ],
  "minimumReleaseAge": "96 hours",
  "semanticCommits": "enabled",
  "lockFileMaintenance": { "enabled": true },
  "packageRules": [
    {
      "matchUpdateTypes": ["pinDigest"],
      "automerge": true,
      "description": "Automerge pinDigest PRs (e.g., GitHub Actions, Docker digests)"
    },
    {
      "matchPackageNames": [
        "coverlet.collector",
        "Microsoft.NET.Test.Sdk",
        "NSubstitute",
        "Bogus",
        "Shouldly",
        "Testcontainers",
        "Testcontainers.*",
        "WireMock.*",
        "Verify",
        "Verify.*",
        "TngTech.ArchUnitNET",
        "TngTech.ArchUnitNET.*",
        "xunit",
        "xunit.*"
      ],
      "matchManagers": ["nuget"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "groupName": ".NET Testing",
      "description": "Automerge .NET testing packages"
    },
    {
      "matchPackageNames": ["typescript"],
      "automerge": true
    },
    {
      "matchPackageNames": ["Arbeidstilsynet.*"],
      "matchManagers": ["nuget"],
      "groupName": "Arbeidstilsynet namespace",
      "description": "Group internal .NET packages and disable minimum release age",
      "minimumReleaseAge": null
    },
    {
      "matchPackageNames": ["@arbeidstilsynet/*"],
      "matchManagers": ["npm"],
      "groupName": "@arbeidstilsynet namespace",
      "description": "Group internal NPM packages"
    },
    {
      "matchDatasources": ["docker"],
      "matchSourceUrls": ["/^https:\\/\\/github.com\\/Arbeidstilsynet\\/.*$/"],
      "minimumReleaseAge": null
    },
    {
      "matchPackageNames": [
        "Arbeidstilsynet.Receiver",
        "/^.*meldinger\\/receiver$/"
      ],
      "matchManagers": ["kubernetes", "docker", "docker-compose", "nuget"],
      "groupName": "Arbeidstilsynet.Receiver group"
    }
  ]
}
